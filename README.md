# Обменный сервис товаров

Сервис для создания объявлений и обмена товарами между пользователями.

## Особенности

- Создание/редактирование/удаление объявлений
- Система предложений обмена между пользователями
- Фильтрация объявлений по категориям и состоянию
- REST API для управления объявлениями и предложениями
- Авторизация и аутентификация пользователей
- Docker-контейнеризация приложения

## Технологии

- Python 3.10
- Django 4.2
- Django REST Framework
- SQLite (для разработки)
- Docker

## Установка и запуск

### Требования

- Docker и Docker Compose (для запуска через Docker)
- Python 3.10+ (для локального запуска)

### С помощью Docker (рекомендуемый способ)

1. Клонируйте репозиторий:
git clone https://github.com/MargaritaUlko/_test.git
cd _test
2. Соберите и запустите контейнер:
docker-compose up --build

Приложение будет доступно по адресу: http://localhost:8000

## API Endpoints

### Объявления (Ads)
DRF ViewSet (`/api/ads/`):
- `GET /api/ads/` - список объявлений (доступно всем)
- `POST /api/ads/` - создать объявление (требуется авторизация)
- `GET /api/ads/{id}/` - получить объявление по ID
- `PUT /api/ads/{id}/` - полное обновление (только владелец)
- `PATCH /api/ads/{id}/` - частичное обновление (только владелец)
- `DELETE /api/ads/{id}/` - удалить объявление (только владелец)

Django Views:
- `GET /` - список объявлений с фильтрами
- `GET /ad/new/` - форма создания объявления
- `GET /ad/{id}/edit/` - форма редактирования
- `POST /ads/{id}/delete/` - удаление через форму

### Предложения обмена (Proposals)
DRF ViewSet (`/api/proposals/`):
- `GET /api/proposals/` - список предложений (только свои)
- `POST /api/proposals/` - создать предложение
- `GET /api/proposals/{id}/` - детали предложения
- `PATCH /api/proposals/{id}/` - обновление статуса (только получатель)

Django Views:
- `GET /proposals/` - список предложений с фильтрами
- `GET /proposals/create/` - форма создания предложения
- `GET /proposals/{id}/update/` - форма изменения статуса

# Фильтрация объявлений
Доступные параметры фильтрации через GET-параметры:

search - поиск по заголовку и описанию

category - фильтр по категории

condition - фильтр по состоянию

## Тесты
Запуск тестов:
python manage.py test exchange_app.tests.test

## Модели данных
# Объявление (Ad)
- Пользователь (связь с User)

- Заголовок

- Описание

- URL изображения

- Категория (электроника, книги, одежда, другое)

- Состояние (новый, б/у, неисправный)

- Дата создания

# Предложение обмена (ExchangeProposal)

- Объявление-отправитель

- Объявление-получатель

- Комментарий

- Статус (ожидает, принята, отклонена)

- Дата создания